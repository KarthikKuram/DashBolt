{% extends 'dashboard/base.html' %}
{% load static %} 
{% load widget_tweaks %}
{% load crispy_forms_tags %} 
{%block dashboard %}
<div class="row m-1">
  <div class="col-4 offset-3">
    <div class="m-1" style="border: 1px solid lightgrey; border-radius:27px;background:#f8f9fa">
      <h3 class="my-3 text-center">Tally Settings</h3>
      <form class="align-middle" method="post">
        {% csrf_token %} 
        {% if form.non_field_errors %}
          <div class="m-3">
            {% for error in form.non_field_errors %}
              <div class="alert alert-danger form-control" role="alert" style="font-size: 12px">
                {{error}}
              </div>
            {% endfor %} 
          </div>
        {% endif %}      
        {% if form.name.errors %}
          <div class="m-3">
            <label for="{{form.name.id_for_label}}" class="form-label"><strong>Company Name</strong></label>
            {% render_field form.name class+='form-control is-invalid mb-2' %}
            {% for error in form.name.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.name.id_for_label}}" class="form-label"><strong>Company Name</strong></label>
            {% render_field form.name class+='form-control' aria-describedby+='companyHelp' %}
            <div id="companyHelp" class="form-text">
              Provide the name of the company as per tally.
            </div> 
          </div>
        {% endif %}
        {% if form.tally_begin_date.errors %}
          <div class="m-3">
            <label for="{{form.tally_begin_date.id_for_label}}" class="form-label"><strong>Tally Start Date</strong></label>
            {% render_field form.tally_begin_date class+='form-control is-invalid mb-2' %}
            {% for error in form.tally_begin_date.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.tally_begin_date.id_for_label}}" class="form-label"><strong>Tally Start Date</strong></label>
            {% render_field form.tally_begin_date class+='form-control' aria-describedby+='companyHelp' %}
            <div id="companyHelp" class="form-text">
              Provide the starting date of tally in yyyy-mm-dd format.
            </div> 
          </div>
        {% endif %}
        {% if form.tally_port.errors %}
          <div class="m-3">
            <label for="{{form.tally_port.id_for_label}}" class="form-label"><strong>Tally Port Number</strong></label>
            {% render_field form.tally_port class+='form-control is-invalid mb-2' %}
            {% for error in form.tally_port.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.tally_port.id_for_label}}" class="form-label"><strong>Tally Port Number</strong></label>
            {% render_field form.tally_port class+='form-control' aria-describedby+='companyHelp' %}
            <div id="companyHelp" class="form-text">
              Provide the port on which tally is running
            </div> 
          </div>
        {% endif %}
        <button type="submit" class="btn btn-primary m-3">Submit</button>
      </form>
    </div>
  </div>
</div>
{% endblock dashboard %}
