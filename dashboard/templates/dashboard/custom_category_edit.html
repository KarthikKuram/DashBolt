{% extends "dashboard/base.html" %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load static %}

{%block dashboard %}
<div class="row m-1">
  <div class="col-4 offset-3">
    <div class="m-1" style="border: 1px solid lightgrey; border-radius:27px;background:#f8f9fa">
      <h3 class="my-3 text-center">Map Primary Group</h3>
      <form class="align-middle" method="post">
        {% csrf_token %} 
        {% if form.non_field_errors %}
          <div class="m-3">
            {% for error in form.non_field_errors %}
              <div class="alert alert-danger form-control" role="alert" style="font-size: 12px">
                {{error}}
              </div>
            {% endfor %} 
          </div>
        {% endif %}      
        {% if form.custom_group.errors %}
          <div class="m-3">
            <label for="{{form.custom_group.id_for_label}}" class="form-label"><strong>Custom Group</strong></label>
            {% render_field form.custom_group class+='form-control is-invalid mb-2' %}
            {% for error in form.custom_group.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.custom_group.id_for_label}}" class="form-label"><strong>Custom Group</strong></label>
            {% render_field form.custom_group class+='form-control' aria-describedby+='companyHelp' %}
            <div id="companyHelp" class="form-text">
              Name of the custom group as per tally.
            </div> 
          </div>
        {% endif %}
        {% if form.primary_group.errors %}
          <div class="m-3">
            <label for="{{form.primary_group.id_for_label}}" class="form-label"><strong>Map to Primary Group</strong></label>
            {% render_field form.primary_group class+='form-control is-invalid mb-2' %}
            {% for error in form.primary_group.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.primary_group.id_for_label}}" class="form-label"><strong>Map to Primary Group</strong></label>
            {% render_field form.primary_group class+='form-control' aria-describedby+='companyHelp' %}
            <div id="companyHelp" class="form-text">
              Provide the primary group for mapping.
            </div> 
          </div>
        {% endif %}
        {% if form.company.errors %}
          <div class="m-3">
            <label for="{{form.company.id_for_label}}" class="form-label"><strong>Company</strong></label>
            {% render_field form.company class+='form-control is-invalid mb-2' %}
            {% for error in form.company.errors %}
              <div class="aler alert-danger mb-1" role="alert" style="font-size:12px">
                {{error}}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="m-3">
            <label for="{{form.company.id_for_label}}" class="form-label"><strong>Company</strong></label>
            {% render_field form.company class+='form-control' aria-describedby+='companyHelp' %}
          </div>
        {% endif %}
        <button type="submit" class="btn btn-primary m-3">Map</button>
      </form>
    </div>
  </div>
</div>

{% endblock %}